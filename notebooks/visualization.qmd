```{python}
import pandas as pd
import sys
from great_tables import GT
from pyprojroot.here import here
```

```{python}
sys.path.append("..")
```

# Table1: Summary of YOLOv11 Classification Model Performance

```{python}
table_base = pd.read_csv(here("output/f1_score/summary_yolo_batch8_imgsz256_base.csv"))
table_cv = pd.read_csv(here("output/f1_score/summary_yolo_batch8_imgsz256.csv"))
```

```{python}
table_average = table_cv[["precision", "recall", "f1_score"]].aggregate({'precision': 'mean', 'recall': 'mean', 'f1_score': 'mean'}).round(3)
value_average = table_average.values.tolist()
name_average = ["precision", "recall", "f1_score"]

df_average = pd.DataFrame([value_average], columns=name_average)

table1 = pd.concat([table_base, df_average], ignore_index=True)
table1
gt = GT(table1)
gt.show()
```

# Table2: Waterway Analysis
```{python}
from src.visualisation.table2_waterway import *
```
```{python}
# Read data
df = read_waste_data()
df_buffer = read_buffer_waterway()

# Merge waste hot spots with waterway buffer
df_waste_waterway = merge_waste_waterway(df, df_buffer)
hot_spots_near_waterway = df_waste_waterway[df_waste_waterway['waterway'] == True]


df_summary_waterway = pd.DataFrame({
    "Total_Hot_Spots": len(df),
    "Hot_Spots_Near_Waterway": [len(hot_spots_near_waterway)],
    "Proportion_Near_Waterway": [len(hot_spots_near_waterway) / len(df) if len(df) > 0 else 0]
})

df_summary_waterway
```

5m’s grid(raw grid)
Moran’s I: 0.26788
Expected I: -0.00000
Z-score: 997.613
P-value (permutation): 0.001000
